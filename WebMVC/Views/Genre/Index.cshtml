@using WebMVC.Models.Genre
@model GenreListViewModel

<h2>Genres</h2>

@{
    await Html.RenderPartialAsync("GenreSearchBox", new WebMVC.Models.Genre.GenreSearchViewModel());
}


<table class="genre-table">
    <tr>
        <th>Genre Name</th>
        <th>Actions</th>
    </tr>
    @foreach (var genre in Model.Genres)
    {
        <tr>
            <td>@genre.Name</td>
            <td class="action-buttons">
                @if (User.IsInRole("Admin"))
                {
                    @using (Html.BeginForm("Delete", "Genre", new { id = genre.Id }, FormMethod.Post))
                    {
                        <input type="submit" value="Delete" class="button-delete" onclick="return confirm('Are you sure?');" />
                    }
                    <a href="@Url.Action("Edit", "Genre", new { id = genre.Id })" class="button-link">Edit</a>
                }
                else
                {
                    <p>no actions available</p>
                }
               
            </td>
        </tr>
    }
</table>
@if (User.IsInRole("Admin"))
{
    <a href="@Url.Action("Create", "Genre")" class="create-button">Create New Genre</a>
}

